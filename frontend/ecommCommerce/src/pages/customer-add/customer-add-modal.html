<ion-header>
  <ion-navbar color="primary">
    <ion-buttons start>
      <button ion-button icon-only (click)="cancel()">
        <ion-icon name="close"></ion-icon>
      </button>

    </ion-buttons>
    <ion-title>Agregar paciente</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item>
      <ion-label>Nombre y Apellido (*)</ion-label>
      <ion-input type="text" placeholder="nombre" id="name" [(ngModel)]="persona.personName.firstName" name="name"
                 required="required">
      </ion-input>
      <ion-input type="text" placeholder="apellido" id="lastname" [(ngModel)]="persona.personName.lastName" name="lastname"
                 required="required">
      </ion-input>
    </ion-item>
    <ion-item>
      <ion-label>E-mail</ion-label>
      <ion-input type="email" placeholder="jon@gmail.com" id="email" [(ngModel)]="persona.email" name="email">

      </ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Pais (*)</ion-label>
      <ion-select type="text" placeholder="Código"  id="code" name="code" multiple="false " [(ngModel)]="codigo" >
        <!--suppress TypeScriptUnresolvedVariable -->
        <ion-option *ngFor="let c of countries" [value] = "c.callingCodes[0]" [selected]="c.callingCodes[0] == '57'">{{c.name}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>Celular (*)</ion-label>
      <ion-input type="tel" placeholder="celular" id="mobile" (ionBlur)='onChangeTel(persona.mobile)' [(ngModel)]="persona.mobile" name="mobile"
                 required="required">
      </ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Telefono Fijo</ion-label>
      <ion-input type="tel" placeholder="0312345" id="phone" [(ngModel)]="persona.phone" name="phone">
      </ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Notificación Masiva</ion-label>
      <ion-select type="text" placeholder="WhatsApp"  id="contact" name="contact" multiple="false" [(ngModel)]="persona.channels" >
        <ion-option *ngFor="let contactPref of contactPref" [value] = "contactPref.code" [selected]="contactPref.code == 'WhatsApp'">{{contactPref.name}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>Campos obligatorios (*)</ion-label>
    </ion-item>

  </ion-list>

  <ion-buttons>
    <button ion-button full icon-left color="secondary" (click)="save()">
      <ion-icon name="checkmark"></ion-icon>
      Adicionar
    </button>
  </ion-buttons>
    <ion-list>
      <ion-list-header>Follow us on Twitter</ion-list-header>
      <ion-item *ngFor="let item of contactsfound">
        {{ item.displayName }}
        <p>{{ item.phoneNumbers }}</p>
      </ion-item>
    </ion-list>
</ion-content>
